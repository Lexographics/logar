import"../chunks/CWj6FrbW.js";import{m as R,p as T,G as u,W as j,o as U,g as r,a as B,aj as p,al as v,I as n,ak as h,aq as C,ai as G}from"../chunks/DOREUks6.js";import{e as O}from"../chunks/ChayrCMC.js";import{t as F,a as W}from"../chunks/DaIljfVv.js";import{t as J,a as K,P as N,s as Q,e as V,r as X}from"../chunks/hXFmxJzW.js";import{b as Y}from"../chunks/DU5CFFKK.js";import{g as k,b as z}from"../chunks/CBMZYCrO.js";import{u as D}from"../chunks/1wwSRHPD.js";function Z(a,l,t,c){var f=a.__style;if(R||f!==l){var m=J(l);(!R||m!==a.getAttribute("style"))&&(m==null?a.removeAttribute("style"):a.style.cssText=m),a.__style=l}return c}async function ee(a,l){try{const t=new FormData;return t.append("username",a),t.append("password",l),[(await K.post(`${N}/auth/login`,t)).data,null]}catch(t){return Q(t.response.data),[null,t]}}var te=F('<div class="star svelte-6eg72m"></div>'),se=F('<div class="auth-container svelte-6eg72m"><!> <div class="auth-card svelte-6eg72m"><h1 class="svelte-6eg72m">Lock in</h1> <form><div class="form-group svelte-6eg72m"><label for="username" class="svelte-6eg72m">Username</label> <input type="text" id="username" required class="svelte-6eg72m"></div> <div class="form-group svelte-6eg72m"><label for="password" class="svelte-6eg72m">Password</label> <input type="password" id="password" required class="svelte-6eg72m"></div> <button type="submit" class="submit-button svelte-6eg72m">Log In</button></form></div></div>');function me(a,l){T(l,!0);let t=u(""),c=u("");async function f(e){e.preventDefault();const[i,s]=await ee(r(t),r(c));s?console.error("Login error:",s):(D.current=i,k(`${z}/dashboard`))}let m=u(0),P=u(0),w=u(0),g=u(0),x=u(j([]));const L=500;U(()=>{D.current.token&&k(`${z}/dashboard`)}),U(()=>{n(w,window.innerWidth,!0),n(g,window.innerHeight,!0);const e=100,i=[];for(let o=0;o<e;o++)i.push({id:o,topPercent:Math.random()*100,leftPercent:Math.random()*100,width:Math.random()*2+1,height:Math.random()*2+1});n(x,i,!0);const s=o=>{n(m,o.clientX,!0),n(P,o.clientY,!0)},d=()=>{n(w,window.innerWidth,!0),n(g,window.innerHeight,!0)};return window.addEventListener("mousemove",s),window.addEventListener("resize",d),()=>{window.removeEventListener("mousemove",s),window.removeEventListener("resize",d)}});function H(e){const i=e.leftPercent/100*r(w),s=e.topPercent/100*r(g),d=i-r(m),o=s-r(P),A=Math.sqrt(d*d+o*o);let E=1;return A<L&&(E=1+(1-A/L)*1.5),`
      top: ${e.topPercent}%;
      left: ${e.leftPercent}%;
      width: ${e.width}px;
      height: ${e.height}px;
      transform: scale(${E});
    `}var b=se(),M=p(b);V(M,17,()=>r(x),e=>e.id,(e,i)=>{var s=te();G(d=>Z(s,d),[()=>H(r(i))]),W(e,s)});var $=v(M,2),y=v(p($),2),_=p(y),I=v(p(_),2);X(I),h(_);var S=v(_,2),q=v(p(S),2);X(q),h(S),C(2),h(y),h($),h(b),O("submit",y,f),Y(I,()=>r(t),e=>n(t,e)),Y(q,()=>r(c),e=>n(c,e)),W(a,b),B()}export{me as component};

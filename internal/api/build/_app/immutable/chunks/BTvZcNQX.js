import"./CWj6FrbW.js";import{m as ne,p as G,G as H,o as de,al as i,aj as a,ai as U,a as O,g as b,I as E,ak as s,aq as pe,aC as fe,W as ge,C as be}from"./DOREUks6.js";import{t as N,a as C}from"./DaIljfVv.js";import{s as he}from"./MIyQLpdY.js";import{c as qe,s as ze,a as _e,P as ke,b as g,e as $e,i as we}from"./hXFmxJzW.js";import{u as W,m as S,n as p}from"./1wwSRHPD.js";import{g as V,b as l,s as Le}from"./CBMZYCrO.js";import{s as oe}from"./q6NL7zVp.js";import{d as ce,e as xe}from"./ChayrCMC.js";import{p as ye,s as Se,a as We}from"./37rSdpLR.js";function c(e,o,n,f,t,r){var v=e.__className;if(ne||v!==n||v===void 0){var d=qe(n,f,r);(!ne||d!==e.getAttribute("class"))&&(d==null?e.removeAttribute("class"):e.className=d),e.__className=n}else if(r&&t!==r)for(var u in r){var m=!!r[u];(t==null||m!==!!t[u])&&e.classList.toggle(u,m)}return r}async function Ae(e){e.status===401&&(W.current={token:null},ze("Session expired, please login again"),V(`${l}/login`))}async function De(){if(S.current.models.length>0&&S.current.lastFetch&&new Date-new Date(S.current.lastFetch)<15e3)return[S.current.models,null];try{const e=await _e.get(`${ke}/models`,{headers:{Authorization:`Bearer ${W.current.token}`}});return S.current={models:e.data,lastFetch:new Date},[e.data,null]}catch(e){return Ae(e.response),[null,e]}}const Be=()=>{const e=Le;return{page:{subscribe:e.page.subscribe},navigating:{subscribe:e.navigating.subscribe},updated:e.updated}},Ce={subscribe(e){return Be().page.subscribe(e)}};var Ee=N('<li class="svelte-dq0zmd"><a><i class="fas fa-cube svelte-dq0zmd"></i> <span class="text svelte-dq0zmd"> </span></a></li>'),Ne=N('<div class="sidebar-container svelte-dq0zmd"><div><div class="sidebar-header svelte-dq0zmd"><h2 class="svelte-dq0zmd"><a class="linktext svelte-dq0zmd"><i class="fas fa-truck svelte-dq0zmd"></i> <span class="text svelte-dq0zmd">Logar</span></a></h2> <button aria-label="Toggle sidebar" class="toggle-button svelte-dq0zmd"><i></i></button></div> <nav class="svelte-dq0zmd"><ul class="svelte-dq0zmd"><li class="svelte-dq0zmd"><a><i class="fas fa-home svelte-dq0zmd"></i> <span class="text svelte-dq0zmd">Dashboard</span></a></li> <li class="svelte-dq0zmd"><a><i class="fas fa-list-alt svelte-dq0zmd"></i> <span class="text svelte-dq0zmd">Logs</span> <i></i></a> <ul></ul></li> <li class="svelte-dq0zmd"><a><i class="fas fa-chart-bar svelte-dq0zmd"></i> <span class="text svelte-dq0zmd">Analytics</span></a></li> <li class="svelte-dq0zmd"><a><i class="fa-solid fa-server svelte-dq0zmd"></i> <span class="text svelte-dq0zmd">Remote Actions</span></a></li> <li class="svelte-dq0zmd"><a><i class="fas fa-cog svelte-dq0zmd"></i> <span class="text svelte-dq0zmd">Settings</span></a></li> <li class="svelte-dq0zmd"><a><i class="fas fa-question-circle svelte-dq0zmd"></i> <span class="text svelte-dq0zmd">Help</span></a></li></ul></nav> <div class="sidebar-footer svelte-dq0zmd"><p class="svelte-dq0zmd"><span class="text svelte-dq0zmd">Â© 2025 Logar</span></p></div></div></div>');function Pe(e,o){G(o,!0);const[n,f]=Se(),t=()=>We(Ce,"$page",n);let r=ye(o,"models",19,()=>[]),v=H(!1);function d(){p.current.isSidebarLocked=!p.current.isSidebarLocked}function u(){p.current.isLogsExpanded=!p.current.isLogsExpanded}de(()=>{p.current.isSidebarLocked==null&&(p.current.isSidebarLocked=window.innerWidth>768),setTimeout(()=>{E(v,!0)},0)});var m=Ne(),h=a(m),q=a(h),z=a(q),A=a(z);g(A,"href",`${l}/`),s(z);var w=i(z,2);w.__click=d;var L=a(w);s(w),s(q);var x=i(q,2),J=a(x),P=a(J),K=a(P);let Q;g(K,"href",`${l}/`),s(P);var T=i(P,2),_=a(T);g(_,"href","javascript:void(0)"),_.__click=u;let X;var ve=i(a(_),4);s(_);var F=i(_,2);$e(F,21,r,we,(R,k)=>{var y=Ee(),$=a(y);let D;var B=i(a($),2),ue=a(B,!0);s(B),s($),s(y),U(me=>{D=c($,1,"link submenu-item svelte-dq0zmd",null,D,me),g($,"href",`${l}/logs?model=${b(k).identifier}`),oe(ue,b(k).displayName||b(k).identifier)},[()=>({active:t().url.pathname.startsWith(`${l}/logs`)&&t().url.searchParams.get("model")===b(k).identifier})]),C(R,y)}),s(F),s(T);var I=i(T,2),Y=a(I);let Z;g(Y,"href",`${l}/analytics`),s(I);var M=i(I,2),ee=a(M);let se;g(ee,"href",`${l}/actions`),s(M);var j=i(M,2),ae=a(j);let te;g(ae,"href",`${l}/settings`),s(j);var le=i(j,2),re=a(le);let ie;g(re,"href",`${l}/help`),s(le),s(J),s(x),pe(2),s(h),s(m),U((R,k,y,$,D,B)=>{c(h,1,`sidebar ${(p.current.isSidebarLocked||!b(v)?"locked":"")??""}`,"svelte-dq0zmd"),c(L,1,`fas ${(p.current.isSidebarLocked?"fa-lock":"fa-unlock")??""}`,"svelte-dq0zmd"),Q=c(K,1,"link svelte-dq0zmd",null,Q,R),X=c(_,1,"menu-item link svelte-dq0zmd",null,X,k),c(ve,1,`fas ${(p.current.isLogsExpanded?"fa-chevron-down":"fa-chevron-right")??""} chevron`,"svelte-dq0zmd"),c(F,1,`scrollbar submenu ${(p.current.isLogsExpanded?"expanded":"")??""}`,"svelte-dq0zmd"),Z=c(Y,1,"link svelte-dq0zmd",null,Z,y),se=c(ee,1,"link svelte-dq0zmd",null,se,$),te=c(ae,1,"link svelte-dq0zmd",null,te,D),ie=c(re,1,"link svelte-dq0zmd",null,ie,B)},[()=>({active:t().url.pathname.startsWith(`${l}/dashboard`)}),()=>({active:t().url.pathname.startsWith(`${l}/logs`)}),()=>({active:t().url.pathname.startsWith(`${l}/analytics`)}),()=>({active:t().url.pathname.startsWith(`${l}/actions`)}),()=>({active:t().url.pathname.startsWith(`${l}/settings`)}),()=>({active:t().url.pathname.startsWith(`${l}/help`)})]),C(e,m),O(),f()}ce(["click"]);function Te(e,o){E(o,!b(o))}var Fe=()=>{V(`${l}/settings#profile`)},Ie=N('<nav class="topbar svelte-1ey6wke"><div class="profile-section svelte-1ey6wke"><button class="profile-button svelte-1ey6wke"><span class="username svelte-1ey6wke"> </span> <img alt="avatar" class="avatar svelte-1ey6wke"></button> <div><button class="dropdown-item svelte-1ey6wke">My Account</button> <button class="dropdown-item svelte-1ey6wke">Log out</button></div></div></nav>');function Me(e,o){G(o,!0);let n=H(!1);function f(){W.current={token:null},V(`${l}/login`)}function t(L){var x;b(n)&&!((x=L.target)!=null&&x.closest(".profile-section"))&&E(n,!1)}var r=Ie();xe("click",fe,t);var v=a(r),d=a(v);d.__click=[Te,n];var u=a(d),m=a(u,!0);s(u);var h=i(u,2);s(d);var q=i(d,2);let z;var A=a(q);A.__click=[Fe];var w=i(A,2);w.__click=f,s(q),s(v),s(r),U(L=>{oe(m,W.current.username),g(h,"src","https://api.dicebear.com/9.x/thumbs/svg?seed="+W.current.username),z=c(q,1,"dropdown-menu svelte-1ey6wke",null,z,L)},[()=>({active:b(n)})]),C(e,r),O()}ce(["click"]);var je=N('<div class="base-container svelte-6racs9"><!> <div class="main-content svelte-6racs9"><!> <div class="content-area scrollbar svelte-6racs9"><!></div></div></div>');function Ye(e,o){G(o,!0);let n=H(ge([]));de(async()=>{const[m,h]=await De();h&&console.error(h),E(n,m,!0)});var f=je(),t=a(f);Pe(t,{get models(){return b(n)}});var r=i(t,2),v=a(r);Me(v,{});var d=i(v,2),u=a(d);he(u,()=>o.children??be),s(d),s(r),s(f),C(e,f),O()}export{Ye as B,Ae as c,Ce as p,c as s};

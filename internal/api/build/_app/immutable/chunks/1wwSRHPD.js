var x=i=>{throw TypeError(i)};var v=(i,e,s)=>e.has(i)||x("Cannot "+s);var t=(i,e,s)=>(v(i,e,"read from private field"),s?s.call(i):e.get(i)),h=(i,e,s)=>e.has(i)?x("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,s),g=(i,e,s,a)=>(v(i,e,"write to private field"),a?a.call(i,s):e.set(i,s),s);import{G as N,I as w,g as u,ag as k,u as J,ah as O}from"./DOREUks6.js";var r,o,c,l,n,d;class I{constructor(e,s,a){h(this,r);h(this,o,N(0));h(this,c,0);h(this,l);h(this,n);h(this,d,e=>{e.storageArea===t(this,n)&&e.key===t(this,r)&&w(t(this,o),u(t(this,o))+1)});g(this,r,e),g(this,l,s),g(this,n,a||(typeof localStorage<"u"?localStorage:void 0)),t(this,n)&&t(this,n).getItem(e)===null&&s!==void 0&&t(this,n).setItem(e,JSON.stringify(s))}get current(){u(t(this,o));const e=t(this,n)?JSON.parse(t(this,n).getItem(t(this,r))):t(this,l),s=new WeakMap,a=f=>{if(typeof f!="object"||f===null)return f;let S=s.get(f);return S||(S=new Proxy(f,{get:(p,m)=>(u(t(this,o)),a(Reflect.get(p,m))),set:(p,m,L)=>(w(t(this,o),u(t(this,o))+1),Reflect.set(p,m,L),t(this,n)&&t(this,n).setItem(t(this,r),JSON.stringify(e)),!0)}),s.set(f,S)),S};return k()&&J(()=>(t(this,c)===0&&typeof window<"u"&&window.addEventListener("storage",t(this,d)),g(this,c,t(this,c)+1),()=>{O().then(()=>{g(this,c,t(this,c)-1),t(this,c)===0&&typeof window<"u"&&window.removeEventListener("storage",t(this,d))})})),a(e)}set current(e){t(this,n)&&t(this,n).setItem(t(this,r),JSON.stringify(e)),w(t(this,o),u(t(this,o))+1)}}r=new WeakMap,o=new WeakMap,c=new WeakMap,l=new WeakMap,n=new WeakMap,d=new WeakMap;class y extends I{constructor(e,s){super(e,s,typeof localStorage<"u"?localStorage:void 0)}}class b extends I{constructor(e,s){super(e,s,typeof sessionStorage<"u"?sessionStorage:void 0)}}const W=new b("navigation",{isSidebarLocked:null,isLogsExpanded:!1}),_=new y("settings",{selectedLanguage:"en",currentTheme:"light",emailNotifications:!0,pushNotifications:!1}),j=new y("user",{user:null,token:null}),A=new y("models",{models:[],lastFetch:null});export{A as m,W as n,_ as s,j as u};
